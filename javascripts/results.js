$(function(){$("label.advancedSearch").hide(),$("form.cpfSearch").hoverIntent(function(){$("label.advancedSearch").css("display","inline")},function(){"cpfdescription"===$("label.advancedSearch select").val()&&$("label.advancedSearch").fadeOut()});var e=!1;document.ontouchmove=function(t){e&&t.preventDefault()};var t=$("[data-snac-grid]");if(t.length){var o=new Slick.Data.RemoteModel(t.first().data("snac-grid")),n=function(e,t,o,n,l){return s="<a href='"+l.path.replace("default:","/xtf/view?docId=")+"'>"+l.identity+"</a>"},l=function(e,t,o,n,l){var i=l["facet-entityType"];return"person"==i?"&#x1F466":"corporateBody"==i?"&#x1F3E2;":"family"==i?"&#x1F46A;":void 0},i=function(){return Math.floor(2*Math.random())?"âœ“":void 0},r=function(){var e=(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)/3;return parseInt(Math.max(0,100*e))},a=[{id:"identity",name:"Results",width:300,formatter:n},{id:"facet-entityType",name:"type",formatter:l,width:100},{id:"facet-recordLevel",name:"hasBioghist",formatter:i,width:100},{id:"facet-recordLevel",name:"Wikipedia",formatter:i,width:100},{id:"facet-recordLevel",name:"Collections",formatter:r,width:100}],c={editable:!1,enableAddRow:!1,enableColumnReorder:!1,forceFitColumns:!0,enableCellNavigation:!0},d=null;grid=new Slick.Grid("[data-snac-grid]",o.data,a,c),grid.onViewportChanged.subscribe(function(){var e=grid.getViewport();o.ensureData(e.top,e.bottom)}),grid.onSort.subscribe(function(e,t){o.setSort(t.sortCol.field,t.sortAsc?1:-1);var n=grid.getViewport();o.ensureData(n.top,n.bottom)}),o.onDataLoading.subscribe(function(){if(!d){d=$("<span class='loading-indicator'><label>Buffering...</label></span>").appendTo(document.body);var e=t;d.css("position","absolute").css("top",e.position().top+e.height()/2-d.height()/2).css("left",e.position().left+e.width()/2-d.width()/2)}d.show()}),o.onDataLoaded.subscribe(function(e,t){for(var o=t.from;o<=t.to;o++)grid.invalidateRow(o);grid.updateRowCount(),grid.render(),d.fadeOut()}),o.setSort("totalDocs",1),grid.onViewportChanged.notify()}});