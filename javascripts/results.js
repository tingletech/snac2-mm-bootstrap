$(function(){$("label.advancedSearch").hide(),$("form.cpfSearch").hoverIntent(function(){$("label.advancedSearch").css("display","inline")},function(){"cpfdescription"===$("label.advancedSearch select").val()&&$("label.advancedSearch").fadeOut()});var e=!1;document.ontouchmove=function(t){e&&t.preventDefault()};var t=$("[data-snac-grid]");if(t.length){var n=new Slick.Data.RemoteModel(t.first().data("snac-grid")),o=function(e,t,n,o,i){return s="<a href='"+i.path.replace("default:","/xtf/view?docId=")+"'>"+i.identity+"</a>"},i=function(e,t,n,o,i){var r=i["facet-entityType"];return"person"==r?"&#x1F466":"corporateBody"==r?"&#x1F3E2;":"family"==r?"&#x1F46A;":void 0},r=function(){return Math.floor(2*Math.random())?"âœ“":void 0},a=function(){var e=(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)/3;return parseInt(Math.max(0,100*e))},l=[{id:"identity",name:"Results",width:300,formatter:o},{id:"facet-entityType",name:"type",formatter:i,width:100},{id:"facet-recordLevel",name:"hasBioghist",formatter:r,width:100},{id:"facet-recordLevel",name:"Wikipedia",formatter:r,width:100},{id:"facet-recordLevel",name:"Collections",formatter:a,width:100}],c={editable:!1,enableAddRow:!1,enableColumnReorder:!1,forceFitColumns:!0,enableCellNavigation:!0},d=null;grid=new Slick.Grid("[data-snac-grid]",n.data,l,c),grid.onViewportChanged.subscribe(function(){var e=grid.getViewport();n.ensureData(e.top,e.bottom)}),grid.onSort.subscribe(function(e,t){n.setSort(t.sortCol.field,t.sortAsc?1:-1);var o=grid.getViewport();n.ensureData(o.top,o.bottom)}),n.onDataLoading.subscribe(function(){if(!d){d=$("<span class='loading-indicator'><label>Buffering...</label></span>").appendTo(document.body);var e=t;d.css("position","absolute").css("top",e.position().top+e.height()/2-d.height()/2).css("left",e.position().left+e.width()/2-d.width()/2)}d.show()}),n.onDataLoaded.subscribe(function(e,t){for(var n=t.from;n<=t.to;n++)grid.invalidateRow(n);grid.updateRowCount(),grid.render(),d.fadeOut()}),n.setSort("totalDocs",1),grid.onViewportChanged.notify()}});